<!DOCTYPE html>
<html>
<head>
    <title>Test Razorpay Key</title>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>
    <h1>Razorpay Key Test</h1>
    <button onclick="testPayment()">Test Payment (₹10)</button>
    <div id="status"></div>

    <script>
        function testPayment() {
            const log = document.getElementById('status');
            log.innerHTML = '<p>Testing NEW Razorpay key: rzp_test_Rh6FjJwAtY7xRk</p>';
            
            try {
                const options = {
                    key: 'rzp_test_Rh6FjJwAtY7xRk',  // NEW KEY
                    amount: 1000, // ₹10 in paise
                    currency: 'INR',
                    name: 'Test Payment',
                    description: 'Testing Razorpay Integration',
                    handler: function (response) {
                        log.innerHTML += '<p style="color:green">✅ SUCCESS!</p>';
                        log.innerHTML += '<pre>' + JSON.stringify(response, null, 2) + '</pre>';
                        alert('✅ Payment Success! Key is working!');
                    },
                };

                const rzp = new Razorpay(options);
                
                rzp.on('payment.failed', function (response) {
                    log.innerHTML += '<p style="color:red">❌ FAILED!</p>';
                    log.innerHTML += '<pre>' + JSON.stringify(response.error, null, 2) + '</pre>';
                    alert('Error: ' + response.error.description);
                });

                rzp.open();
                log.innerHTML += '<p>Modal opened...</p>';
            } catch (err) {
                log.innerHTML += '<p style="color:red">Error: ' + err.message + '</p>';
                alert('Error opening Razorpay: ' + err.message);
            }
        }
    </script>
</body>
</html>

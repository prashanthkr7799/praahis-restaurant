# Takeaway Orders - Quick Reference Guide

## ğŸš€ Quick Start

### Create a Takeaway Order
1. Go to **Manager Dashboard â†’ Orders Tab**
2. Click **[â• Create Takeaway Order]** button (green, top right)
3. **Step 1 - Customer Info**:
   - Enter customer name
   - Enter 10-digit phone number
   - Select "Takeaway" or "Delivery"
   - If delivery: add delivery address
   - Click **Next**
4. **Step 2 - Menu Selection**:
   - Browse categories or use search
   - Click items to add to cart
   - Use [âˆ’] [+] to adjust quantities
   - Click **Next**
5. **Step 3 - Order Summary**:
   - Review items and total
   - Optional: Click **Apply Discount**
   - Select payment: **Counter** (cash) or **Online**
   - Add special instructions if needed
   - Click **Create Order**
6. Done! Order number will appear (e.g., ORD-20251121-0015)

---

## ğŸ“ Finding Takeaway Orders

### Orders Tab Layout
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Search]  [Filters]  [â• Create]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Dine-in/Delivery  â”‚  Takeaway Orders â”‚
â”‚   (2/3 width)      â”‚   (1/3 width)    â”‚
â”‚                    â”‚                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Order Card   â”‚  â”‚  â”‚ Order Card  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Order Card   â”‚  â”‚  â”‚ Order Card  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Filtering
- **All Orders**: Keep "All" selected in Order Type filter
- **Takeaway Only**: Filter â†’ Order Type â†’ Check "Takeaway"
- **Dine-in Only**: Filter â†’ Order Type â†’ Check "Dine-in"
- **Search**: Type order number, customer name, or phone

---

## ğŸ“‹ Order Number Format

**Format**: `ORD-YYYYMMDD-####`

**Examples**:
- `ORD-20251121-0001` â†’ First order on Nov 21, 2025
- `ORD-20251121-0042` â†’ 42nd order on Nov 21, 2025
- `ORD-20251122-0001` â†’ First order on Nov 22, 2025 (resets daily)

**Notes**:
- Automatically generated by database
- Sequential numbering per day
- Zero-padded 4 digits
- Same format for all order types

---

## ğŸ’° Payment Options

### Counter (Cash)
- Customer pays at counter
- Order marked as `payment_status: 'pending'`
- Staff marks paid when payment received

### Online
- Customer pays immediately (Razorpay/UPI/Card)
- Order marked as `payment_status: 'paid'`
- Payment recorded automatically

---

## ğŸ” Order Information

### What's Captured
- **Customer**: Name, Phone, Email (optional)
- **Order Type**: Takeaway or Delivery
- **Delivery Address**: If delivery selected
- **Items**: Menu items with quantities
- **Pricing**: Subtotal, Discount, Tax (5%), Total
- **Payment**: Method and status
- **Instructions**: Special customer requests
- **Created By**: Which manager created the order
- **Order Number**: Auto-generated unique ID

### Order Status Flow
```
pending_payment â†’ received â†’ preparing â†’ ready â†’ completed
```

For takeaway orders:
1. **received**: Order created, sent to kitchen
2. **preparing**: Kitchen is cooking
3. **ready**: Order ready for pickup
4. **completed**: Customer picked up

---

## ğŸ› ï¸ Common Tasks

### Check Today's Takeaway Orders
1. Go to Orders tab
2. Right column shows all takeaway orders
3. Count badge shows total: **Takeaway Orders [5]**

### Search for Specific Order
1. Use search bar: Type order number
   - Example: "ORD-20251121-0015"
2. Or search by customer:
   - Type name: "John Doe"
   - Type phone: "9876543210"

### Apply Discount
1. In Step 3 of order creation
2. Click **Apply Discount** button
3. Select discount type:
   - Percentage (e.g., 10%)
   - Fixed amount (e.g., â‚¹50)
4. Enter value and reason
5. Click **Apply**

### Add Special Instructions
1. In Step 3 of order creation
2. Type in "Special Instructions" field
3. Examples:
   - "Pack separately"
   - "Extra spicy"
   - "No onions"
   - "Utensils needed"

---

## ğŸ“Š Database Fields

### orders Table
```sql
order_type          â†’ 'takeaway' (or 'dine_in', 'delivery')
order_number        â†’ 'ORD-20251121-0015'
customer_name       â†’ 'John Doe'
customer_phone      â†’ '9876543210'
customer_email      â†’ 'john@example.com'
delivery_address    â†’ NULL (for takeaway)
items               â†’ JSONB array of items
order_status        â†’ 'received'
payment_status      â†’ 'pending'
payment_method      â†’ 'cash' (or 'online')
subtotal            â†’ 540.00
tax_amount          â†’ 24.30
discount_amount     â†’ 54.00
total               â†’ 510.30
special_instructions â†’ 'Pack separately'
created_by          â†’ manager_user_id
created_at          â†’ timestamp
```

---

## âš ï¸ Validation Rules

### Customer Information
- âœ… Name: Required, any text
- âœ… Phone: Required, exactly 10 digits
- âœ… Email: Optional
- âœ… Order Type: Required (takeaway/delivery)
- âœ… Delivery Address: Required if delivery selected

### Menu Selection
- âœ… Must add at least 1 item
- âœ… Quantity must be > 0
- âœ… Items must exist in menu

### Order Summary
- âœ… Subtotal = sum of (item price Ã— quantity)
- âœ… Tax = 5% of (subtotal - discount)
- âœ… Total = subtotal - discount + tax
- âœ… Payment method required

---

## ğŸ¨ Visual Indicators

### Order Type Icons
- ğŸ½ï¸ **Utensils Icon** = Dine-in/Delivery (left column)
- ğŸ›ï¸ **Shopping Bag Icon** = Takeaway (right column)

### Color Coding
- **Accent Color** (cyan/teal) = Dine-in/Delivery
- **Primary Color** (orange) = Takeaway
- **Green Button** = Create Takeaway Order

### Count Badges
- Small rounded pill next to section titles
- Shows number of orders in that category
- Updates in real-time

---

## ğŸ› Troubleshooting

### Order Not Appearing
- âœ… Check if correct tab selected (Orders)
- âœ… Verify no filters excluding takeaway orders
- âœ… Refresh page or click Refresh button
- âœ… Check time range filter (default: Today)

### Can't Create Order
- âœ… Ensure customer name entered
- âœ… Check phone is 10 digits
- âœ… Verify at least 1 item added to cart
- âœ… Check menu items are available

### Order Number Not Showing
- âœ… Order number generated automatically
- âœ… Will show in success toast after creation
- âœ… Also visible in order card

### Payment Status Wrong
- âœ… "Counter" = pending (pay later)
- âœ… "Online" = paid (pay now)
- âœ… Can update manually via order card actions

---

## ğŸ“± Mobile Usage

### Creating Orders on Mobile
- Modal is responsive and full-screen
- Swipe gestures supported
- Quantity buttons are larger
- Category tabs scroll horizontally

### Viewing Orders on Mobile
- Columns stack vertically
- Takeaway orders show below dine-in
- All features accessible
- Cards optimized for touch

---

## ğŸ”‘ Keyboard Shortcuts

*Note: Not yet implemented, but recommended:*
- `Ctrl/Cmd + T` = Open Create Takeaway Order
- `Ctrl/Cmd + F` = Focus search bar
- `Escape` = Close modal
- `Enter` = Next step (in modal)

---

## ğŸ“ Customer Communication

### Order Confirmation
Currently: Order number shown in success toast

**Recommended additions**:
- SMS confirmation to customer phone
- Estimated ready time
- Pickup instructions

### Order Updates
**Manual process**:
1. Update order status in order card
2. Call customer when ready
3. Mark completed when picked up

---

## ğŸ“ˆ Reports & Analytics

### Track Takeaway Orders
1. Go to Reports tab
2. Filter by order type: Takeaway
3. View metrics:
   - Total takeaway orders
   - Revenue from takeaway
   - Average order value
   - Popular items

### Manager Performance
- Orders tracked by `created_by` field
- See which manager created which orders
- Useful for commission or performance tracking

---

## ğŸ“ Best Practices

### For Managers
1. **Double-check phone numbers** - Critical for customer contact
2. **Confirm special instructions** - Read back to customer
3. **Estimate pickup time** - Set customer expectations
4. **Verify payment method** - Counter vs Online
5. **Update status promptly** - Keep kitchen in sync

### For Kitchen Staff
1. **Check order type** - Takeaway orders need packaging
2. **Follow special instructions** - Listed in order details
3. **Update status** - Mark "preparing" then "ready"
4. **Alert manager** - When order ready for pickup

### For Restaurant Owners
1. **Monitor takeaway volume** - Track growth trends
2. **Optimize packaging** - Invest in quality containers
3. **Train staff** - Ensure everyone knows the process
4. **Set pricing strategy** - Consider takeaway-specific pricing

---

## ğŸ”— Related Features

### Discount System
- Apply percentage or fixed discounts
- Track discount reasons
- See discount impact on revenue

### Payment Processing
- Multiple payment methods supported
- Split payments available
- Refund functionality

### Kitchen Display
- All orders go to kitchen queue
- Status updates sync automatically
- Priority based on order time

---

## ğŸ“š Additional Resources

- **Full Documentation**: `/docs/TAKEAWAY_ORDERS_IMPLEMENTATION.md`
- **Schema Reference**: `/phase3_migrations/01_core_schema.sql`
- **Modal Component**: `/src/domains/ordering/components/modals/CreateTakeawayOrderModal.jsx`

---

**Last Updated**: 21 November 2025  
**Version**: 1.0  
**Status**: Production Ready âœ…
